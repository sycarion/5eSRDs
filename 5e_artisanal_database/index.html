<!DOCTYPE html>
<head>
<link rel="manifest" href="./manifest.json">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no, viewport-fit=cover">
<meta name="robots" content="noindex">
<meta charset="UTF-8">
<meta name="theme-color" content="#2c3e50">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="default">
<meta name="apple-mobile-web-app-title" content="5eADB Tools">
<link rel="stylesheet" href="./css_js/5eadb.css">
<title>5e Artisanal Database</title>
</head>
<body>
<h1>5e Artisanal Database</h1>

<div class="main-search-container">
    <input 
        type="text" 
        id="mainSearchInput" 
        class="main-search-input" 
        placeholder="Search rules, spells, monsters, and more..." 
        autocomplete="off"
    >
    
    <div class="filter-container">
        <div class="filter-header" onclick="toggleFilters()">
            <h3>Filter by Source</h3>
            <span id="filterToggle" class="filter-toggle collapsed">â–º</span>
        </div>
        <div id="filterContent" class="filter-content collapsed">
            <div id="sourceFilters" class="source-filters">
                <!-- Checkboxes will be populated dynamically -->
            </div>
            <div class="filter-actions">
                <button type="button" onclick="selectAllSources()">Select All</button>
                <button type="button" onclick="deselectAllSources()">Deselect All</button>
            </div>
        </div>
    </div>
    
    <div class="search-buttons">
        <button type="button" onclick="performSearch(event)">Search</button>
        <button type="button" onclick="performLuckySearch()">First Result</button>
    </div>
</div>

<script src="./css_js/lunr.js"></script>
<script src="./search/filter-data.js"></script>
<script src="./css_js/search-filters.js"></script>
<script src="./css_js/search-interface.js"></script>
<script>
function performSearch(event) {
    if (event) event.preventDefault();
    
    const searchInput = document.getElementById('mainSearchInput');
    const query = searchInput.value.trim();
    
    searchInterface.performSearchRedirect(query, false);
}

function performLuckySearch() {
    const searchInput = document.getElementById('mainSearchInput');
    const query = searchInput.value.trim();
    
    searchInterface.performSearchRedirect(query, true);
}

// Setup search input when page loads
document.addEventListener('DOMContentLoaded', function() {
    searchInterface.setupSearchInput('mainSearchInput', performSearch);
    
    // Register service worker for PWA
    if ('serviceWorker' in navigator) {
        navigator.serviceWorker.register('./sw.js')
            .then(registration => console.log('SW registered'))
            .catch(error => console.log('SW registration failed'));
    }
});
</script>

<h2>Rulesets</h2>
<ul>
<li><a href="./rules/html/5.1 SRD (D&D 2014)/index.html">5.1 SRD (D&D 2014)</a></li>
<li><a href="./rules/html/5.2 SRD (D&D 2024)/index.html">5.2 SRD (D&D 2024)</a></li>
<li><a href="./rules/html/Black Flag (Tales of the Valiant)/index.html">Black Flag (Tales of the Valiant)</a></li>
<li><a href="./rules/html/Level Up Advanced 5e/index.html">Level Up Advanced 5e</a></li>
<li><a href="./rules/html/Lazy%20GM%20Resource%20Docs/index.html">Lazy GM's Resource Document</a></li>
<li><a href="./rules/html/Lazy%20GM%20Monster%20Docs/index.html">Lazy GM's Monster Resource Document</a></li>
</ul>

<h2>Databases</h2>
<ul>
<li><a href="./monsters/index.html">Monsters</a></li>
<li><a href="./spells/index.html">Spells</a></li>
<li><a href="./magic_items/index.html">Magic Items</a></li>
</ul>

<h2>Tools</h2>
<ul>
<li><a href="./tools/dice_roller/index.html">Dice Roller</a></li>
<li><a href="./tools/encounter_calculator/index.html">Encounter Calculator</a></li>
<li><a href="./tools/combat_tracker/index.html">Combat Tracker</a></li>
<li><a href="./tools/quick_monster_stats/index.html">Quick Monster Stats</a></li>
<li><a href="./tools/token_maker/index.html">Token Maker</a></li>
<li><a href="./tools/annotator/index.html">Map Annotator</a></li>
<li><a href="https://slyflourish.com/sf_patreon_files_898123050001223/dyson_maps.html">Dyson Commercial Map Gallery</a> (External Link)</li>
</ul>

<h2>Random Generators</h2>
<ul>
<li><a href="./generators/npcs/index.html">NPCs</a></li>
<li><a href="./generators/monuments/index.html"">Monuments</a></li>
<li><a href="./generators/locations/index.html"">Locations</a></li>
<li><a href="./generators/traps/index.html"">Traps</a></li>
<li><a href="./generators/treasure/index.html"">Lazy 5e Treasure</a></li>
<li><a href="./generators/scrolls/index.html">Scrolls</a></li>
<li><a href="./generators/spellbook/index.html">Spellbooks</a></li>
<li><a href="./generators/2024_dnd_treasure/index.html">2024 D&D Treasure</a></li>
<li><a href="./generators/tov_treasure/index.html">Tales of the Valiant Treasure</a></li>
<li><a href="./generators/relics/index.html">Relics (single-use magic items)</a></li>
<li><a href="./generators/weapons/index.html">Unique Weapons</a></li>
<li><a href="./generators/armor/index.html">Unique Armor</a></li>
<li><a href="./generators/generator_template/index.html">Generator Template</a></li>
</ul>

<h2>About the 5e Artisanal Database</h2>

<p>The 5e Artisanal Database is a set of tools, generators, and <a href="./licensing.html">open-licensed</a> rules, monsters, items, and spells to help you run 5e-based tabletop roleplaying games. It's mobile friendly, downloadable, and self-hostable using your own web server or locally using your own web browser. <a href="5e_artisanal_database.zip">Download your own copy</a> and read the README.md file for technical details.</p>

<p>The 5e Artisanal Database is a reward for <a href="https://www.patreon.com/c/slyflourish">Patreons of Sly Flourish</a>. If you are not a patron, please <a href="https://www.patreon.com/c/slyflourish">join up</a> to support this work and get access to a whole lot more.</a>

</body>
</html>